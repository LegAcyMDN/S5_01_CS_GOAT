@page "/"
@using S5_01_Blazor_CS_GOAT.Models
@using S5_01_Blazor_CS_GOAT.Pages.Components
@using S5_01_Blazor_CS_GOAT.Service
@inject IService<Case> caseRepository

<PageTitle>CS:GOAT</PageTitle>

<div class="display-cases">
    @if (cases.Count == 0)
    {
        <p><em>Loading...</em></p>    
    } else
    {
        @foreach (Case singleCase in cases) {
            <CaseComponent CaseObject="@singleCase"></CaseComponent>
        }
    }
</div>

@code {
    private List<Case> cases = new List<Case>();
    protected override async Task OnInitializedAsync()
    {
        cases = await caseRepository.GetAllAsync();
        Console.WriteLine(cases);
    }
}
